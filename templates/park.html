{% extends "layout.html" %}

{% block title %}
    Explore 
{% endblock %}

{% block main %}
    <div>
        <h1><b>Welcome to {{park}}</b></h1>         
        <div class="space"></div>
        <div class="d-flex justify-content-around">
            <A HREF="#visitorcenters">Check out the visitor centers!</A>
            <A HREF="#campgrounds">Check out the campgrounds!</A>
            <A HREF="#alerts">Check out current alerts!</A>
            <A HREF="#articles">Check out articles!</A>
            <A HREF="#events">Check out current events!</A>
            <A HREF="#news">Check out news releases!</A>
        </div>
    </div>
    <br>
    <A NAME="visitorcenters"></A>
    <div class="container-fluid">
        <h3><i><u>Visitor Center Information</u></i></h3>  
        {%for visitorCenter in visitorCentersList%}
            <p><b>Full name:</b> {{ visitorCenter.get("name") or "No information available" }}             </p>
            <p><b>Description:</b> {{ visitorCenter.get("description") or "No information available"}}    </p>
            <p><a href= {{ visitorCenter.get("directionsUrl") or "javascript:;" }}><u><b>Directions:</b></u></a> {{ visitorCenter.get("directionsInfo") or "No information available"}}  </p>
            <br>            
        {% endfor %}
    </div>
    
    <A NAME="campgrounds"></A>
    <div class="container-fluid">
        <h3><i><u>Campground Information</u></i></h3>  
        {%for campground in campgroundsList%}
            <p><b>Full name:</b> {{ campground.get("name") or "No information  available"}}             </p>
            <p><b>Description:</b> {{ campground.get("description") or "No information available"}}    </p>                
            <p><b>Weather (plan accordingly!): </b> {{ campground.get("weatheroverview")  or "No information  available"}}             </p>   
        
            <p><b>Wheelchair Accessibility:</b>  {{ campground.get("accessibility").get("wheelchairaccess")  or "No information  available"}}    </p>
            <p><b>Internet Connectivity:</b>  {{ campground.get("accessibility").get("internetconnectivity")  or "No information  available"}}    </p> 
            <p><b>Cellphone Reception:</b>  {{ campground.get("accessibility").get("cellphonereception")  or "No information  available"}}    </p>  

            <p><b>Bathroom Accessibility:</b>  {{ campground.get("amenities").get("toilets")[0]  or "No information  available"}}    </p>

            <p><b>Additional Information:</b>  {{ campground.get("accessibility").get("additionalinfo")  or "No information  available"}}    </p>  

            <p><a href={{campground.get("regulationsurl") or "javascript:;" }}><u><b>Regulations:</b></u></a> {{ campground.get("regulationsoverview") or "No information  available"}}    </p>
            <p><a href={{campground.get("directionsUrl") or "javascript:;" }}><u><b>Directions:</b></u></a> {{ campground.get("directionsoverview") or "No information  available"}}    </p>
            <br>            
        {% endfor %}
        </div>

    <A NAME="alerts"></A>
    <div class="container-fluid">
        <h3><i><u>Alerts</u></i></h3>  
        {%for alert in alertsList%}
            <p><b> <a href= {{ alert.get("url") or "javascript:;" }}>{{ alert.get("title")}}:</a></b> {{ alert.get("description") or "No information available"}}  </p>
            <br>            
        {% endfor %}
    </div>

    <A NAME="articles"></A>
    <div class="container-fluid">   
        <h3><i><u>Top {{articlesList|length}} Articles</u></i></h3>
        {%for article in articlesList%}
            <p><b> <a href= {{ article.get("url") or "javascript:;" }}>{{ article.get("title")}}:</a></b> {{ article.get("listingdescription") or "No information available"}}  </p>
            <br>            
        {% endfor %}
    </div>

    <A NAME="events"></A>
    <div class="container-fluid">               
    
        <h3><i><u>Top {{eventsList|length}}  Events</u></i></h3>  
        {%for event in eventsList%}
            <p> {{ event.get("title")}} </p> 
            
            {% if event.get("isFree")=="false"%}               
            <p><b> Fee:</b> The event is not free; you should call the park</p>
            {%else%}                
            <p><b> Fee:</b> Free</p>
            {%endif%}
            
            <p> Location:</b> {{ event.get("Location")}} </p>
            
            {% if event.get("isrecurring")=="false"%}               
                <p><b> One Time Event!</b></p>
            {%else%}                
                <p><b>Repeating Event</b></p>
            {%endif%}
            <p><b>Days:</b> 
            
            {%for dayIdx in range(2,dates[loop.index0]|length)%}
                {% if dayIdx < dates[loop.index0]|length - 1 %}               
                    Every {{dates[loop.index0][dayIdx]}}, </p>
                {%else%}                
                    Every {{dates[loop.index0][dayIdx]}}</p>
                {%endif%}
            {%endfor%}
                <p><b>Dates:</b> {{dates[loop.index0][0]}} to {{dates[loop.index0][1]}} </p>

            <p><b>Times: </b></p>
            {%for timeIdx in range(0,event.get("times","")|length)%}
                {% if timeIdx < event.get("times")|length - 1 %}               
                    {{event.get("times")[timeIdx].get("timestart")}}, </p>
                {%else%}                
                    {{event.get("times")[timeIdx].get("timestart")}}</p>
                {%endif%}
            {%endfor%}

            <p><b>Duration: {{ duration[i]}}</b></p>
                <hr>
        {% endfor %}
    </div>


    <A NAME="news"></A>
    <div class="container-fluid">  
        <h3><i><u>Top {{newsList|length}} News Releases</u></i></h3>
        {%for news in newsList%}
            <p><b> <a href= {{ news.get("url") or "javascript:;" }}>{{ news.get("title")}}:</a></b> {{ news.get("abstract") or "No information available"}}  </p>
            <p>Released: {{ news.get("releasedate").split(" ")[0] }} </p>
            <br>            
        {% endfor %}
    </div>


{% endblock %}