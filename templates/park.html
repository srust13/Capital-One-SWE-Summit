{% extends "layout.html" %}

{% block title %}
    Explore 
{% endblock %}

{% block main %}
    <div>
        <h1><b>Welcome to {{park}}</b></h1>         
        <div class="space"></div>
        <div class="d-flex justify-content-around">
            <A HREF="#about">Check out park information!</A>
            <A HREF="#visitorcenters">Check out the visitor centers!</A>
            <A HREF="#campgrounds">Check out the campgrounds!</A>
            <A HREF="#alerts">Check out current alerts!</A>
            <A HREF="#articles">Check out articles!</A>
            
            <A HREF="#events">Check out current events!</A>
            <A HREF="#news">Check out news releases!</A>
            <A HREF="#lessons">Check out educational programs!</A>
            <A HREF="#people">Check out people!</A>
            <A HREF="#places">Check out places!</A>
        </div>
    </div>
    <br>
    

    <A NAME="about"></A>
    <h3><i><u>Park Information</u></i></h3><br> 
    <div class="list-group">
        {% for parkItem in aboutParksList %}
            {% if parkItem.get("fullName") == park %}
                <div class="list-group-item list-group-item-action flex-column align-items-start">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">{{ park }}</h5>
                        <br><br>
                    </div>
                    
                    <p class="mb-1">{{ parkItem.get("description") or "No information available"}} </p><br>
                    <p class="mb-1"><b>State(s) -</b>{{parkItem.get("states") or "No information available"}}</p>
                    <p class="mb-1"><b>Weather -</b> {{ parkItem.get("weatherInfo") or "No information available"}} </p>
                    <p class="mb-1"><a href= {{ parkItem.get("directionsUrl") or "javascript:;" }}><b>Directions -</b></a> {{ parkItem.get("directionsInfo") or "No information available"}} </p>
                </div>
            {%endif%}
        {% endfor %}
    </div>

    <A NAME="visitorcenters"></A>
    <h3><i><u>Visitor Center Information</u></i></h3><br> 
    <div class="list-group">
        {% for visitorCenter in visitorCentersList %}
            <div class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ visitorCenter.get("name") or "No information available" }}</h5>
                    <br><br>
                </div>
                
                <p class="mb-1">{{ visitorCenter.get("description") or "No information available"}} </p><br>
                <p class="mb-1"><a href= {{ visitorCenter.get("directionsUrl") or "javascript:;" }}><b>Directions -</b></a> {{ visitorCenter.get("directionsInfo") or "No information available"}} </p>
            </div>
        {% endfor %}
    </div>

    
    <A NAME="campgrounds"></A>
        <br><h3><i><u>Campground Information</u></i></h3><br>          
        <div class="list-group">
            {%for campground in campgroundsList%}
                <div class="list-group-item list-group-item-action flex-column align-items-start">
                    <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">{{ campground.get("name") or "No information  available"}} </h5>
                            <br><br>
                    </div>

                    <p class="mb-1">{{ campground.get("description") or "No information available"}} </p><br>              
                    <p class="mb-1"><b>Weather -</b> {{ campground.get("weatheroverview")  or "No information  available"}} </p>               
                    <p class="mb-1"><b>Wheelchair Accessibility -</b> {{ campground.get("accessibility").get("wheelchairaccess")  or "No information  available"}}    </p>
                    <p class="mb-1"><b>Internet Connectivity -</b> {{ campground.get("accessibility").get("internetconnectivity")  or "No information  available"}}    </p>
                    <p class="mb-1"><b>Cellphone Reception -</b> {{ campground.get("accessibility").get("cellphonereception")  or "No information  available"}}    </p>
                    <p class="mb-1"><b>Bathroom Accessibility -</b> {{ campground.get("amenities").get("toilets")[0]  or "No information  available"}}    </p>
                    <p class="mb-1"><b>Additional Information -</b> {{ campground.get("accessibility").get("additionalinfo")  or "No information  available"}}    </p>
                    <p class="mb-1"><a href={{campground.get("regulationsurl") or "javascript:;" }}><b>Regulations -</b></a> {{ campground.get("regulationsoverview") or "No information  available"}}    </p>
                    <p class="mb-1"><a href={{campground.get("directionsUrl") or "javascript:;" }}><b>Directions -</b></a> {{ campground.get("directionsoverview") or "No information  available"}}    </p>
                
                </div>     
            {% endfor %}
        </div>

    
    <A NAME="alerts"></A>
    <br><h3><i><u>Alerts</u></i></h3><br>  
    <div class="list-group">        
        {%for alert in alertsList%}
            <div class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1"><b> <a href= {{ alert.get("url") or "javascript:;" }}>{{ alert.get("title")}}</a></b></h5>
                    <br><br>
                </div>                
                <p class="mb-1">{{alert.get("description") or "No information available"}} </p>               
            </div>

        {% endfor %}
    </div>
    

    <A NAME="articles"></A>
    <br><h3><i><u>{{park}} Articles</u></i></h3><br>
    <div class="list-group">           
        {%for article in articlesList%}
            <a href= {{ article.get("url") or "javascript:;" }} class="list-group-item list-group-item-action flex-column align-items-start">
                <img src={{article.get("listingimage").get("url") or "../static/default.jpg"}} style="width:150px;height:150px">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ article.get("title") or ""}}</h5>                    
                    <br><br>
                </div>                
                <p class="mb-1">{{article.get("listingdescription") or "No information available"}} </p>
            </a>
        {% endfor %}
    </div>


    <A NAME="events"></A>
    <br><h3><i><u>{{park}} Events</u></i></h3><br>  
    <div class="list-group">   
        {%for event in eventsList%}
            {% set outer_loop = loop %}
            <div class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ event.get("title")}}</h5>
                    <br><br>
                </div>                
                
                {% if event.get("isFree")=="false"%}  
                    <p class="mb-1"><b>Fee -</b> The event is not free; you should call the park </p>
                {%else%}
                    <p class="mb-1"><b>Fee -</b> Free </p>
                {%endif%}
                
                <p class="mb-1"><b>Location -</b> {{ event.get("Location")}} </p>
                <hr>
                
                {% if event.get("isrecurring")=="false"%}  
                    <p class="mb-1"><b> One Time Event!</b></p>
                {%else%}
                    <p class="mb-1"><b>Repeating Event</b></p>
                {%endif%}
                
                <p class="mb-1"><b>Days - </b>
                    {%for dayIdx in range(2,dates[outer_loop.index0]|length)%}                
                        Every {{dates[outer_loop.index0][dayIdx]}}
                    {%endfor%}
                </p>

                <p class="mb-1"><b>Dates -</b> {{dates[outer_loop.index0][0]}} to {{dates[outer_loop.index0][1]}} </p>

                <p class="mb-1"><b>Times - </b>
                    {%for timeIdx in range(0,event.get("times","")|length)%}
                        {% if timeIdx < event.get("times")|length - 1 %}               
                            {{event.get("times")[timeIdx].get("timestart")}}, 
                        {%else%}                
                            {{event.get("times")[timeIdx].get("timestart")}}
                        {%endif%}
                    {%endfor%}
                </p>
                
                <p class="mb-1"><b>Duration - {{ duration[loop.index0]}}</b></p>
                <hr>
                <p class="mb-1"><b>Duration - {{ duration[loop.index0]}}</b></p>

                <p class="mb-1"><b>Description -</b> {{event.get("description").replace("<p>","").replace("</p>","") or "No information available"}}</p><br>
                
                
            </div>
        {% endfor %}
    </div>


    <A NAME="news"></A>
    <br><h3><i><u>{{park}} News Releases</u></i></h3><br>
    <div class="list-group">          
        {%for news in newsList%}
            <a href= {{ news.get("url") or "javascript:;" }} class="list-group-item list-group-item-action flex-column align-items-start">
                <img src={{news.get("image").get("url") or "../static/default.jpg"}} style="width:150px;height:150px">                
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ news.get("title")}} </h5>                                       
                    <br><br>
                </div>
                <p class="mb-1">{{ news.get("abstract") or "No information available"}}  </p>
                <small>Released: {{ news.get("releasedate").split(" ")[0] }} </small> 
            </a>
        {% endfor %}
    </div>



    <A NAME="lessons"></A>
    <br><h3><i><u>Educational Activities</u></i></h3><br>  
    <div class="list-group">        
        {%for lesson in lessonsList%}
            <div class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1"><a href= {{ lesson.get("url") or "javascript:;" }}><u><b>{{ lesson.get("title") or "No information available"}}</b></u></a></h5>
                    <br><br>
                </div>

                <p class="mb-1"><b>Objective -</b> {{ lesson.get("questionobjective") or "No information available"}} </p><br>

                <p class="mb-1"><b>Grades Level -</b> {{ lesson.get("gradelevel") or "No information available"}} </p>
                <p class="mb-1"><b>Subject -</b> {{ lesson.get("subject") or "No information available" }} </p>               
                <p class="mb-1"><b>Duration -</b> {{ lesson.get("duration") or "No information available"}}  </p> 
                <p class="mb-1"><b>Common Core Standards -</b> {{ lesson.get("commoncore").get("mathstandards") or "No information available"}}  </p>          
                <p class="mb-1"><b>State Standards -</b> {{ lesson.get("commoncore").get("statestandards") or "No information available"}}  </p>  
            </div>
        {% endfor %}
    </div>

    <A NAME="people"></A>    
    <br><h3><i><u>People</u></i></h3> <br> 
    <div class="list-group">
        {%for person in peopleList%}
            <a href= {{ person.get("url") or "javascript:;" }} class="list-group-item list-group-item-action flex-column align-items-start">
                <img src={{person.get("listingimage").get("url") or "../static/default.jpg"}} style="width:150px;height:150px">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ person.get("title") or "No information available"}}   </h5>
                                        
                    <br><br>
                </div>

                <p class="mb-1"><b>Description:</b> {{ person.get("listingdescription") or "No information available"}}    </p><br>
            </a>     
        {% endfor %}
    </div>

    <A NAME="places"></A>
    <br><h3><i><u>Places</u></i></h3><br> 
    <div class="list-group">        
        {%for place in placesList%}            
            <a href= {{ place.get("url") or "javascript:;" }} class="list-group-item list-group-item-action flex-column align-items-start">
                <img src={{place.get("listingimage").get("url") or "../static/default.jpg"}} style="width:150px;height:150px">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{ place.get("title") or "No information available"}} </h5>                                       
                    <br><br>
                </div>               

                <p class="mb-1">{{ place.get("listingdescription") or ""}} </p><br>
            </a>    
        {% endfor %}
    </div>

{% endblock %}

